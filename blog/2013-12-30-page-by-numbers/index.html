<!DOCTYPE html> <!--[if lt IE 7]><html lang=en class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--> <!--[if IE 7]><html lang=en class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if IE 8]><html lang=en class="no-js lt-ie9"><![endif]--> <!--[if IE 9]><html lang=en class="no-js lt-ie10" lang=en><![endif]--> <!--[if gt IE 9]><!--> <html lang=en class=no-js> <!--<![endif]--> <head> <meta charset=utf-8 /> <!--[if lt IE 9]><meta http-equiv=X-UA-Compatible content="IE=edge"/><![endif]--> <title>Page by numbers | Tom Gillard - Melbourne web designer/developer</title> <meta name=viewport content="width=device-width, initial-scale=1.0"/> <meta name=HandheldFriendly content=True /> <meta name=MobileOptimized content=320 /> <link rel=apple-touch-icon-precomposed sizes=144x144 href="/img/core/apple-touch-icon-144x144-precomposed.png"/> <link rel=apple-touch-icon-precomposed sizes=114x114 href="/img/core/apple-touch-icon-114x114-precomposed.png"/> <link rel=apple-touch-icon-precomposed sizes=72x72 href="/img/core/apple-touch-icon-72x72-precomposed.png"/> <link rel=apple-touch-icon-precomposed sizes=57x57 href="/img/core/apple-touch-icon-72x72-precomposed.png"/> <link rel=apple-touch-icon-precomposed href="/img/core/apple-touch-icon-precomposed.png"/> <link rel="shortcut icon" href="/favicon.ico"/> <link href="/css/style.css" media=screen rel=stylesheet /> <meta name=description content=""/> <meta property="og:image" content="/img/elements/profile-large.png"/> <meta property="og:site_name" content="Tom Gillard"/> <meta property="og:type" content=blog /> <meta property="og:url" content="http://tomgillard.com/blog/2013-12-30-page-by-numbers/"/> <meta property="og:title" content="Page by numbers"/> <meta name="twitter:card" content=summary /> <meta name="twitter:creator" content="@tom_gillard"> <meta name="twitter:url" content="http://tomgillard.com/blog/2013-12-30-page-by-numbers/"> <meta name="twitter:title" content="Page by numbers"> <meta name="twitter:description" content="Setting up pagination for my blog was easy enough however, trying to get it to work was a little less straight forward. So I'd like to share how I got pagnination setup on this here site."> <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]--> </head> <body id=js-smooth-state class=m-scene> <!--[if lt IE 8]><p class=chromeframe>You are using an outdated browser. <a href="//browsehappy.com/">Upgrade your browser today</a> or <a href="//www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p><![endif]--> <a href="#main" role=link title="Skip to main content" class=skipNavigation>Skip to main content</a> <header id=top class=header role=banner> <div class="container scene_element scene_element--fadeindown"> <a href="#site-nav" class="mobile-menu-btn mobile-menu-btn--open is-small small-txt">Menu</a> <div class=logo> <a href="/" title=home> <p class=logo__title><strong>Tom Gillard</strong></p> </a> </div> <nav id=site-nav class=nav role=navigation> <h2 class=outline-title>Primary Navigation</h2> <ul class=main-menu role=menu> <li role=menuitem class="mobile-menu-btn mobile-menu-btn--close is-small"><a href="#" class=small-txt>Close X</a></li> <li class=first role=menuitem> <a title="View articles" href="/">Blog</a> </li> <li role=menuitem> <a title="Browse by topic" href="/blog/topics">Topics</a> </li> <li class=last role=menuitem> <a title="About me" href="/about">About</a> </li> </ul> </nav> </div> </header> <div class=page-heading__wrapper> <div class=container> <h1 class=page-heading__title>Page by numbers</h1> <time datetime=2013-12-30 pubdate class=page-heading__tagline>December 30, 2013</time> </div> </div> <div id=main class=main role=main> <div class=container> <article class="article article--full" role=article> <p class=article__intro>Setting up pagination for my blog was easy enough however, trying to get it to work was a little less straight forward. So I'd like to share how I got pagnination setup on this here site.</p> <div class=article__content> <h2 id=configuration>Configuration.</h2> <p>Inside the <code>activate:blog do |blog|</code> block of my <code>config.rb</code> file, I added the following pagination settings;</p> <pre class=code--block><code>blog.paginate = true
blog.page_link = "page:num"
blog.per_page = 5
</code></pre> <p>Although they’re pretty straight forward, demos and explainations of the above settings can be found in the <a href="//middlemanapp.com/basics/blogging/#toc_10">Middleman docs</a>.</p> <h2 id=template>Template.</h2> <p>This is where I had a little difficulty.</p> <p>In order for pagnination to work after setting up pagination in <code>config.rb</code>, I needed to add in a little frontmatter tag to the top of the template I wanted to paginate. This is very important. Forget to include this and the rest of the code is useless.</p> <pre class=code--block><code>---
pageable: true
---
</code></pre> <p>Add this to the top of any template you want to use pagination on. The homepage of my site is the only place I require any pagination for the time being so I added this to top of the <code>index.html.erb</code> file in the root of my site.</p> <p>This essentially tells middleman that we want to split up the contents of this site into manageable pages. Middleman then uses the settings in your <code>config.rb</code> file to figure out how many items per page.</p> <h3 id=show-me-the-pages>Show me the pages</h3> <p>So after configuring and enabling pagination on my site I needed to output the markup. I opted for a fairly simple pagination pattern that shows “Articles X to Y of Z” with next (newer) and previous (older) navigation. To do this I needed to use some of Middleman’s built-in pagination variables;</p> <ul> <li>page_start</li> <li>page_end</li> <li>prev_page</li> <li>prev_page.url</li> <li>next_page</li> <li>next_page.url</li> </ul> <p>The final code snippet looks like this;</p> <pre class=code--block><code>&lt;div class="article pagination"&gt;
  &lt;p class="pagination__summary"&gt;Articles &lt;%= page_start %&gt; to &lt;%= page_end %&gt; of &lt;%= articles.length %&gt;&lt;/p&gt;
  &lt;ul class="list--clean list--pagination"&gt;
    &lt;% if prev_page %&gt;
      &lt;li class="prev"&gt;
        &lt;a href="&lt;%= prev_page.url %&gt;"&gt;Older articles&lt;/a&gt;
      &lt;/li&gt;
    &lt;% end %&gt;
    &lt;% if next_page %&gt;
      &lt;li class="next"&gt;
        &lt;a href="&lt;%= next_page.url %&gt;"&gt;Newer articles&lt;/a&gt;
      &lt;/li&gt;
    &lt;% end %&gt;
  &lt;/ul&gt;
&lt;/div&gt;
</code></pre> <p>So there you have it, pagination on a static site thanks to Middleman. Hopefully that helps clear things up for some people looking to achieve the same or a similar result.</p> <p>T</p> </div> <p> <strong>TOPICS:</strong> <a href="/blog/topics/setup">setup</a> <a href="/blog/topics/middleman">middleman</a> </p> </article> <ul class="list--clean list--article-nav"> <li class=prev> <a href="/blog/2013-12-29-the-bells-and-the-whistles/" title="Previous article">&#171; <span class=is-small--inline>Previous Article</span></a> </li> <li class=next> <a href="/blog/2013-12-31-page-alive/" title="Next article"><span class=is-small--inline>Next Article</span> &#187;</a> </li> </ul> </div> </div> <footer class=footer role=contentinfo> <div class=container> <div class=blurb> <div class=media> <img src="/img/elements/profile-mini.svg" onerror="this.onerror=null; this.src='/img/elements/profile-mini.png'" alt="" class="media__image blurb__headshot"/> <div class="media__body blurb__content"> <p>I'm Tom, a front end developer from Melbourne Australia.</p> <p>The thoughts and opinions on this site are all mine.</p> </div> </div> </div> <small>&copy; 2015 Tom Gillard.</small> <small class=is-large>Built with <a href="//middlemanapp.com" target=_blank>Middleman</a> using the <a href="//smacss.com/" target=_blank>SMACSS</a> css architecture.</small> <small id=contact>Feel free to grab the <a href="/feed.xml">feed</a> and/or <a href="//twitter.com/tom_gillard" target=_blank>follow me on Twitter</a>.</small> </div> </footer> <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script> + <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.9.1.min.js"%3E%3C/script%3E'));</script> <script src="js/site-scripts.js"></script> <script>
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-27423893-2']);
			_gaq.push(['_trackPageview']);
			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script> </body> </html>