!function(){for(var t,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=n.length,i=window.console=window.console||{};o--;)t=n[o],i[t]||(i[t]=e)}(),/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
function(t){"use strict";t.fn.fitVids=function(e){var n={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var o=document.head||document.getElementsByTagName("head")[0],i=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">'+i+"</style>",o.appendChild(r.childNodes[1])}return e&&t.extend(n,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];n.customSelector&&e.push(n.customSelector);var o=".fitvidsignore";n.ignore&&(o=o+", "+n.ignore);var i=t(this).find(e.join(","));i=i.not("object object"),i=i.not(o),i.each(function(){var e=t(this);if(!(e.parents(o).length>0||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var n="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),i=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),r=n/i;if(!e.attr("id")){var a="fitvid"+Math.floor(999999*Math.random());e.attr("id",a)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*r+"%"),e.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(t,e,n){"use strict";if(!history.pushState)return t.fn.smoothState=function(){return this},t.fn.smoothState.options={},void 0;if(!t.fn.smoothState){var o=t("html, body"),i=e.console||!1,r={anchors:"a",prefetch:!1,blacklist:".no-smoothstate, [target]",development:!1,pageCacheSize:0,alterRequestUrl:function(t){return t},onStart:{duration:0,render:function(){o.scrollTop(0)}},onProgress:{duration:0,render:function(){o.css("cursor","wait"),o.find("a").css("cursor","wait")}},onEnd:{duration:0,render:function(t,e,n){o.css("cursor","auto"),o.find("a").css("cursor","auto"),e.html(n)}},callback:function(){}},a={isExternal:function(t){var n=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof n[1]&&n[1].length>0&&n[1].toLowerCase()!==e.location.protocol?!0:"string"==typeof n[2]&&n[2].length>0&&n[2].replace(new RegExp(":("+{"http:":80,"https:":443}[e.location.protocol]+")?$"),"")!==e.location.host?!0:!1},isHash:function(t){var n=t.indexOf(e.location.pathname)>0?!0:!1,o=t.indexOf("#")>0?!0:!1;return n&&o?!0:!1},shouldLoad:function(t,e){var n=t.prop("href");return!a.isExternal(n)&&!a.isHash(n)&&!t.is(e)},htmlDoc:function(e){var n,o=t(),i=/<(\/?)(html|head|body|title|base|meta)(\s+[^>]*)?>/gi,r="ss"+Math.round(1e5*Math.random()),a=e.replace(i,function(e,n,i,a){var s={};return n||(t.merge(o,t("<"+i+"/>")),a&&t.each(t("<div"+a+"/>")[0].attributes,function(t,e){s[e.name]=e.value}),o.eq(-1).attr(s)),"<"+n+"div"+(n?"":" id='"+r+(o.length-1)+"'")+">"});return o.length?(n||(n=t("<div/>")),n.html(a),t.each(o,function(t){var e=n.find("#"+r+t).before(o[t]);o.eq(t).html(e.contents()),e.remove()}),n.children().unwrap()):t(e)},clearIfOverCapacity:function(t,e){return Object.keys||(Object.keys=function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}),Object.keys(t).length>e&&(t={}),t},getContentById:function(e,n){n=n instanceof jQuery?n:a.htmlDoc(n);var o=n.find(e),i=o.length?t.trim(o.html()):n.filter(e).html(),r=i.length?t(i):null;return r},storePageIn:function(t,e,n){return n=n instanceof jQuery?n:a.htmlDoc(n),t[e]={status:"loaded",title:n.find("title").text(),html:n},t},triggerAllAnimationEndEvent:function(e,n){n=" "+n||"";var o=0,i="animationstart webkitAnimationStart oanimationstart MSAnimationStart",r="animationend webkitAnimationEnd oanimationend MSAnimationEnd",s="allanimationend",c=function(n){t(n.delegateTarget).is(e)&&(n.stopPropagation(),o++)},d=function(n){t(n.delegateTarget).is(e)&&(n.stopPropagation(),o--,0===o&&e.trigger(s))};e.on(i,c),e.on(r,d),e.on("allanimationend"+n,function(){o=0,a.redraw(e)})},redraw:function(t){t.height()}},s=function(n){if(null!==n.state){var o=e.location.href,i=t("#"+n.state.id),r=i.data("smoothState");r.href===o||a.isHash(o)||r.load(o,!0)}},c=function(o,r){var s=t(o),c={},d=e.location.href,l=function(t,n){n=n||!1;var o=!1,i=!1,a={loaded:function(){var r=o?"ss.onProgressEnd":"ss.onStartEnd";i&&o?i&&u(t):s.one(r,function(){u(t)}),n||e.history.pushState({id:s.prop("id")},c[t].title,t)},fetching:function(){o||(o=!0,s.one("ss.onStartEnd",function(){r.onProgress.render(t,s,null),setTimeout(function(){s.trigger("ss.onProgressEnd"),i=!0},r.onStart.duration)})),setTimeout(function(){c.hasOwnProperty(t)&&a[c[t].status]()},10)},error:function(){e.location=t}};c.hasOwnProperty(t)||h(t),r.onStart.render(t,s,null),setTimeout(function(){s.trigger("ss.onStartEnd")},r.onStart.duration),a[c[t].status]()},u=function(t){var o="#"+s.prop("id"),d=c[t]?a.getContentById(o,c[t].html):null;d?(n.title=c[t].title,s.data("smoothState").href=t,r.onEnd.render(t,s,d),s.one("ss.onEndEnd",function(){r.callback(t,s,d)}),setTimeout(function(){s.trigger("ss.onEndEnd")},r.onEnd.duration)):!d&&r.development&&i?i.warn("No element with an id of "+o+" in response from "+t+" in "+c):e.location=t},h=function(e){if(!c.hasOwnProperty(e)){c=a.clearIfOverCapacity(c,r.pageCacheSize),c[e]={status:"fetching"};var n=r.alterRequestUrl(e)||e,o=t.ajax(n);o.success(function(t){a.storePageIn(c,e,t),s.data("smoothState").cache=c}),o.error(function(){c[e].status="error"})}},f=function(e){var n=t(e.currentTarget),o=n.prop("href");a.shouldLoad(n,r.blacklist)&&(e.stopPropagation(),h(o))},m=function(e){var n=t(e.currentTarget),o=n.prop("href");e.metaKey||e.ctrlKey||!a.shouldLoad(n,r.blacklist)||(e.stopPropagation(),e.preventDefault(),l(o))},p=function(t){t.on("click",r.anchors,m),r.prefetch&&t.on("mouseover touchstart",r.anchors,f)},g=function(t){var e=s.addClass(t).prop("class");s.removeClass(e),setTimeout(function(){s.addClass(e)},0),s.one("ss.onStartEnd ss.onProgressEnd ss.onEndEnd",function(){s.removeClass(t)})};return r=t.extend({},t.fn.smoothState.options,r),null===e.history.state&&e.history.replaceState({id:s.prop("id")},n.title,d),a.storePageIn(c,d,n.documentElement.outerHTML),a.triggerAllAnimationEndEvent(s,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),p(s),{href:d,cache:c,load:l,fetch:h,toggleAnimationClass:g}},d=function(e){return this.each(function(){this.id&&!t.data(this,"smoothState")?t.data(this,"smoothState",new c(this,e)):!this.id&&i&&i.warn("Every smoothState container needs an id but the following one does not have one:",this)})};e.onpopstate=s,t.smoothStateUtility=a,t.fn.smoothState=d,t.fn.smoothState.options=r}}(jQuery,window,document);var tg=tg||{};tg.common={init:function(){$(".article__content").fitVids();var t=$("#js-smooth-state").smoothState({onStart:{duration:250,render:function(){t.toggleAnimationClass("is-exiting")}}}).data("smoothState")}},$(function(){"use strict";tg.common.init()});